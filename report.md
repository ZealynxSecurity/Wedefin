# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [Low Issues](#low-issues)
  - [L-1: Centralization Risk for trusted owners](#l-1-centralization-risk-for-trusted-owners)
  - [L-2: Deprecated OpenZeppelin functions should not be used](#l-2-deprecated-openzeppelin-functions-should-not-be-used)
  - [L-3: Unsafe ERC20 Operations should not be used](#l-3-unsafe-erc20-operations-should-not-be-used)
  - [L-4: Solidity pragma should be specific, not wide](#l-4-solidity-pragma-should-be-specific-not-wide)
  - [L-5: Missing checks for `address(0)` when assigning values to address state variables](#l-5-missing-checks-for-address0-when-assigning-values-to-address-state-variables)
  - [L-6: `public` functions not used internally could be marked `external`](#l-6-public-functions-not-used-internally-could-be-marked-external)
  - [L-7: Define and use `constant` variables instead of using literals](#l-7-define-and-use-constant-variables-instead-of-using-literals)
  - [L-8: Modifiers invoked only once can be shoe-horned into the function](#l-8-modifiers-invoked-only-once-can-be-shoe-horned-into-the-function)
  - [L-9: Empty Block](#l-9-empty-block)
  - [L-10: Large literal values multiples of 10000 can be replaced with scientific notation](#l-10-large-literal-values-multiples-of-10000-can-be-replaced-with-scientific-notation)
  - [L-11: Contract still has TODOs](#l-11-contract-still-has-todos)
  - [L-12: Inconsistency in declaring uint256/uint (or) int256/int variables within a contract](#l-12-inconsistency-in-declaring-uint256uint-or-int256int-variables-within-a-contract)
  - [L-13: Loop contains `require`/`revert` statements](#l-13-loop-contains-requirerevert-statements)
  - [L-14: Contract elements should be laid out in the following order: `Type declarations` --> `State variables` --> `Events` --> `Errors` --> `Modifiers` --> `Functions`](#l-14-contract-elements-should-be-laid-out-in-the-following-order-type-declarations----state-variables----events----errors----modifiers----functions)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 17 |
| Total nSLOC | 1298 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| contracts/IWEDXInterfaces.sol | 63 |
| contracts/WEDXBasePortfolio.sol | 251 |
| contracts/WEDXConstants.sol | 11 |
| contracts/WEDXDeployerIndex.sol | 27 |
| contracts/WEDXDeployerPro.sol | 27 |
| contracts/WEDXGroup.sol | 62 |
| contracts/WEDXIndexPortfolio.sol | 99 |
| contracts/WEDXManager.sol | 304 |
| contracts/WEDXProPortfolio.sol | 90 |
| contracts/WEDXRanker.sol | 44 |
| contracts/WEDXTreasury.sol | 48 |
| contracts/WEDXlender.sol | 54 |
| contracts/WEDXlenderSingle.sol | 45 |
| contracts/WEDXswap.sol | 125 |
| contracts/library/distroMath.sol | 48 |
| **Total** | **1298** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 0 |
| Low | 14 |


# Low Issues

## L-1: Centralization Risk for trusted owners

Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

- Found in contracts/WEDXBasePortfolio.sol [Line: 17](contracts/WEDXBasePortfolio.sol#L17)

	```solidity
	contract WEDXBasePortfolio is WEDXConstants, Ownable {
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 37](contracts/WEDXBasePortfolio.sol#L37)

	```solidity
	    function deposit() public virtual payable onlyOwner returns(uint256) { 
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 78](contracts/WEDXBasePortfolio.sol#L78)

	```solidity
	    function withdraw(uint256 amount) virtual public onlyOwner {
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 118](contracts/WEDXBasePortfolio.sol#L118)

	```solidity
	    function withdrawBruteForced() virtual public onlyOwner {
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 304](contracts/WEDXBasePortfolio.sol#L304)

	```solidity
	    function changeDelegatedAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 308](contracts/WEDXBasePortfolio.sol#L308)

	```solidity
	    function changeMaxSlippage(uint256 newValue) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 11](contracts/WEDXGroup.sol#L11)

	```solidity
	contract WEDXGroup is Ownable {
	```

- Found in contracts/WEDXGroup.sol [Line: 51](contracts/WEDXGroup.sol#L51)

	```solidity
	    function changeTreasuryAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 56](contracts/WEDXGroup.sol#L56)

	```solidity
	    function changeDeployerProAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 61](contracts/WEDXGroup.sol#L61)

	```solidity
	    function changeDeployerIndexAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 66](contracts/WEDXGroup.sol#L66)

	```solidity
	    function changeManagerAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 71](contracts/WEDXGroup.sol#L71)

	```solidity
	    function changeRankAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 76](contracts/WEDXGroup.sol#L76)

	```solidity
	    function changeSwapContractAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 81](contracts/WEDXGroup.sol#L81)

	```solidity
	    function changeLenderContractAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXIndexPortfolio.sol [Line: 14](contracts/WEDXIndexPortfolio.sol#L14)

	```solidity
	    function deposit() public override onlyOwner payable returns (uint256) {
	```

- Found in contracts/WEDXIndexPortfolio.sol [Line: 24](contracts/WEDXIndexPortfolio.sol#L24)

	```solidity
	    function withdraw(uint256 amount) override onlyOwner public {
	```

- Found in contracts/WEDXIndexPortfolio.sol [Line: 33](contracts/WEDXIndexPortfolio.sol#L33)

	```solidity
	    function withdrawBruteForced() override onlyOwner public {
	```

- Found in contracts/WEDXManager.sol [Line: 240](contracts/WEDXManager.sol#L240)

	```solidity
	    function setMinPercAllowance(uint256 newPerc) public onlyOwner {
	```

- Found in contracts/WEDXManager.sol [Line: 246](contracts/WEDXManager.sol#L246)

	```solidity
	    function setSimilirityPerc(uint256 newPerc) public onlyOwner {
	```

- Found in contracts/WEDXManager.sol [Line: 333](contracts/WEDXManager.sol#L333)

	```solidity
	    function changeNPoints(uint newNPoint) public onlyOwner {
	```

- Found in contracts/WEDXManager.sol [Line: 339](contracts/WEDXManager.sol#L339)

	```solidity
	    function changeTimeWindow(uint256 newTimeWindow) public onlyOwner {
	```

- Found in contracts/WEDXManager.sol [Line: 345](contracts/WEDXManager.sol#L345)

	```solidity
	    function changeRankingListMaxSize(uint newSize) public onlyOwner {
	```

- Found in contracts/WEDXManager.sol [Line: 368](contracts/WEDXManager.sol#L368)

	```solidity
	    function changeFees(uint256 newRewardsFee, uint256 newTransactionsFee, uint256 newDepositWithdrawFee, uint256 newRebalanceActorFee) public onlyOwner {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 14](contracts/WEDXProPortfolio.sol#L14)

	```solidity
	    function deposit() public override onlyOwner payable returns (uint256) {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 20](contracts/WEDXProPortfolio.sol#L20)

	```solidity
	    function withdraw(uint256 amount) override onlyOwner public {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 28](contracts/WEDXProPortfolio.sol#L28)

	```solidity
	    function withdrawBruteForced() override onlyOwner public {
	```



## L-2: Deprecated OpenZeppelin functions should not be used

Openzeppelin has deprecated several functions and replaced with newer versions. Please consult https://docs.openzeppelin.com/

- Found in contracts/WEDXBasePortfolio.sol [Line: 88](contracts/WEDXBasePortfolio.sol#L88)

	```solidity
	                    TransferHelper.safeApprove( tokenAddresses[i], IWEDXGroup(_wedxGroupAddress).getSwapContractAddress(), tokenAmount );
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 161](contracts/WEDXBasePortfolio.sol#L161)

	```solidity
	                    TransferHelper.safeApprove( tokenAddresses[i], IWEDXGroup(_wedxGroupAddress).getSwapContractAddress(), totalAssets[tokenAddresses[i]] );
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 216](contracts/WEDXBasePortfolio.sol#L216)

	```solidity
	                TransferHelper.safeApprove( tokenAddresses[i], IWEDXGroup(_wedxGroupAddress).getSwapContractAddress(), amountIn + amountInFee );
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 235](contracts/WEDXBasePortfolio.sol#L235)

	```solidity
	                TransferHelper.safeApprove( WNATIVE, IWEDXGroup(_wedxGroupAddress).getSwapContractAddress(), amountIn );
	```

- Found in contracts/WEDXswap.sol [Line: 86](contracts/WEDXswap.sol#L86)

	```solidity
	            TransferHelper.safeApprove( tokenIn, address(router[exId]), amountIn );
	```



## L-3: Unsafe ERC20 Operations should not be used

ERC20 functions may not behave as expected. For example: return values are not always meaningful. It is recommended to use OpenZeppelin's SafeERC20 library.

- Found in contracts/WEDXlenderSingle.sol [Line: 35](contracts/WEDXlenderSingle.sol#L35)

	```solidity
	        require( IERC20(tokenAddress).approve(aaveAddress, amount), "This contract has not enough tokens" );
	```



## L-4: Solidity pragma should be specific, not wide

Consider using a specific version of Solidity in your contracts instead of a wide version. For example, instead of `pragma solidity ^0.8.0;`, use `pragma solidity 0.8.0;`

- Found in contracts/IWEDXInterfaces.sol [Line: 2](contracts/IWEDXInterfaces.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 5](contracts/WEDXBasePortfolio.sol#L5)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXConstants.sol [Line: 2](contracts/WEDXConstants.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXDeployerIndex.sol [Line: 5](contracts/WEDXDeployerIndex.sol#L5)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXDeployerPro.sol [Line: 5](contracts/WEDXDeployerPro.sol#L5)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXGroup.sol [Line: 6](contracts/WEDXGroup.sol#L6)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXIndexPortfolio.sol [Line: 5](contracts/WEDXIndexPortfolio.sol#L5)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXManager.sol [Line: 6](contracts/WEDXManager.sol#L6)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 5](contracts/WEDXProPortfolio.sol#L5)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXRanker.sol [Line: 5](contracts/WEDXRanker.sol#L5)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXTreasury.sol [Line: 2](contracts/WEDXTreasury.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXlender.sol [Line: 6](contracts/WEDXlender.sol#L6)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXlenderSingle.sol [Line: 5](contracts/WEDXlenderSingle.sol#L5)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/WEDXswap.sol [Line: 6](contracts/WEDXswap.sol#L6)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in contracts/library/distroMath.sol [Line: 3](contracts/library/distroMath.sol#L3)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in test/mocks/MockWEDXGroup.sol [Line: 2](test/mocks/MockWEDXGroup.sol#L2)

	```solidity
	pragma solidity ^0.8.25;
	```

- Found in test/mocks/MockWEDXManager.sol [Line: 2](test/mocks/MockWEDXManager.sol#L2)

	```solidity
	pragma solidity ^0.8.25;
	```



## L-5: Missing checks for `address(0)` when assigning values to address state variables

Check for `address(0)` when assigning values to address state variables.

- Found in contracts/WEDXBasePortfolio.sol [Line: 305](contracts/WEDXBasePortfolio.sol#L305)

	```solidity
	        delegatedAddress = newAddress;
	```

- Found in contracts/WEDXManager.sol [Line: 91](contracts/WEDXManager.sol#L91)

	```solidity
	                traderData[traderId] = trader( _getPortfolio( distro, assets, initCapital ), distro, assets, capitals, times, liquidities, block.timestamp );
	```

- Found in contracts/WEDXManager.sol [Line: 114](contracts/WEDXManager.sol#L114)

	```solidity
	                traderData[traderId].currentTokenAddresses = assets;
	```

- Found in contracts/WEDXManager.sol [Line: 115](contracts/WEDXManager.sol#L115)

	```solidity
	                traderData[traderId].currentPortfolio = _getPortfolio( distro, assets, capital );
	```

- Found in contracts/WEDXManager.sol [Line: 116](contracts/WEDXManager.sol#L116)

	```solidity
	                traderData[traderId].currentDistro = distro;
	```

- Found in contracts/WEDXManager.sol [Line: 358](contracts/WEDXManager.sol#L358)

	```solidity
	            rankingList = new address[](newSize);
	```

- Found in contracts/WEDXlenderSingle.sol [Line: 29](contracts/WEDXlenderSingle.sol#L29)

	```solidity
	        sourceAddress = source;
	```

- Found in test/mocks/MockWEDXGroup.sol [Line: 12](test/mocks/MockWEDXGroup.sol#L12)

	```solidity
	        _assetManagerAddress = managerAddress;
	```

- Found in test/mocks/MockWEDXManager.sol [Line: 14](test/mocks/MockWEDXManager.sol#L14)

	```solidity
	        _traderScores[trader] = score;
	```

- Found in test/mocks/MockWEDXManager.sol [Line: 31](test/mocks/MockWEDXManager.sol#L31)

	```solidity
	        _rebalanceActor = actor;
	```



## L-6: `public` functions not used internally could be marked `external`

Instead of marking a function as `public`, consider marking it as `external` if it is not used internally.

- Found in contracts/WEDXBasePortfolio.sol [Line: 37](contracts/WEDXBasePortfolio.sol#L37)

	```solidity
	    function deposit() public virtual payable onlyOwner returns(uint256) { 
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 78](contracts/WEDXBasePortfolio.sol#L78)

	```solidity
	    function withdraw(uint256 amount) virtual public onlyOwner {
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 118](contracts/WEDXBasePortfolio.sol#L118)

	```solidity
	    function withdrawBruteForced() virtual public onlyOwner {
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 273](contracts/WEDXBasePortfolio.sol#L273)

	```solidity
	    function getLastTimestamp() public view returns (uint256) {
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 281](contracts/WEDXBasePortfolio.sol#L281)

	```solidity
	    function getDelegatedAddress() virtual public view returns (address) {
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 304](contracts/WEDXBasePortfolio.sol#L304)

	```solidity
	    function changeDelegatedAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXBasePortfolio.sol [Line: 308](contracts/WEDXBasePortfolio.sol#L308)

	```solidity
	    function changeMaxSlippage(uint256 newValue) public onlyOwner {
	```

- Found in contracts/WEDXDeployerIndex.sol [Line: 20](contracts/WEDXDeployerIndex.sol#L20)

	```solidity
	    function createIndexPortfolio() public {
	```

- Found in contracts/WEDXDeployerIndex.sol [Line: 28](contracts/WEDXDeployerIndex.sol#L28)

	```solidity
	    function isIndexPortfolioActive( address portfolioAddress ) public view returns (bool) {
	```

- Found in contracts/WEDXDeployerIndex.sol [Line: 32](contracts/WEDXDeployerIndex.sol#L32)

	```solidity
	    function getUserIndexPortfolioAddress( address user ) public view returns (address) {
	```

- Found in contracts/WEDXDeployerIndex.sol [Line: 36](contracts/WEDXDeployerIndex.sol#L36)

	```solidity
	    function getUserFromIndexPortfolioAddress( address portfolio ) public view returns (address) {
	```

- Found in contracts/WEDXDeployerPro.sol [Line: 20](contracts/WEDXDeployerPro.sol#L20)

	```solidity
	    function createProPortfolio() public {
	```

- Found in contracts/WEDXDeployerPro.sol [Line: 28](contracts/WEDXDeployerPro.sol#L28)

	```solidity
	    function isProPortfolioActive( address portfolioAddress ) public view returns (bool) {
	```

- Found in contracts/WEDXDeployerPro.sol [Line: 32](contracts/WEDXDeployerPro.sol#L32)

	```solidity
	    function getUserProPortfolioAddress( address user ) public view returns (address) {
	```

- Found in contracts/WEDXDeployerPro.sol [Line: 36](contracts/WEDXDeployerPro.sol#L36)

	```solidity
	    function getUserFromProPortfolioAddress( address portfolio ) public view returns (address) {
	```

- Found in contracts/WEDXGroup.sol [Line: 23](contracts/WEDXGroup.sol#L23)

	```solidity
	    function getTreasuryAddress() public view returns (address) {
	```

- Found in contracts/WEDXGroup.sol [Line: 27](contracts/WEDXGroup.sol#L27)

	```solidity
	    function getDeployerProAddress() public view returns (address) {
	```

- Found in contracts/WEDXGroup.sol [Line: 31](contracts/WEDXGroup.sol#L31)

	```solidity
	    function getDeployerIndexAddress() public view returns (address) {
	```

- Found in contracts/WEDXGroup.sol [Line: 35](contracts/WEDXGroup.sol#L35)

	```solidity
	    function getAssetManagerAddress() public view returns (address) {
	```

- Found in contracts/WEDXGroup.sol [Line: 39](contracts/WEDXGroup.sol#L39)

	```solidity
	    function getRankAddress() public view returns (address) {
	```

- Found in contracts/WEDXGroup.sol [Line: 43](contracts/WEDXGroup.sol#L43)

	```solidity
	    function getSwapContractAddress() public view returns (address) {
	```

- Found in contracts/WEDXGroup.sol [Line: 47](contracts/WEDXGroup.sol#L47)

	```solidity
	    function getLenderContractAddress() public view returns (address) {
	```

- Found in contracts/WEDXGroup.sol [Line: 51](contracts/WEDXGroup.sol#L51)

	```solidity
	    function changeTreasuryAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 56](contracts/WEDXGroup.sol#L56)

	```solidity
	    function changeDeployerProAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 61](contracts/WEDXGroup.sol#L61)

	```solidity
	    function changeDeployerIndexAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 66](contracts/WEDXGroup.sol#L66)

	```solidity
	    function changeManagerAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 71](contracts/WEDXGroup.sol#L71)

	```solidity
	    function changeRankAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 76](contracts/WEDXGroup.sol#L76)

	```solidity
	    function changeSwapContractAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXGroup.sol [Line: 81](contracts/WEDXGroup.sol#L81)

	```solidity
	    function changeLenderContractAddress(address newAddress) public onlyOwner {
	```

- Found in contracts/WEDXIndexPortfolio.sol [Line: 14](contracts/WEDXIndexPortfolio.sol#L14)

	```solidity
	    function deposit() public override onlyOwner payable returns (uint256) {
	```

- Found in contracts/WEDXIndexPortfolio.sol [Line: 24](contracts/WEDXIndexPortfolio.sol#L24)

	```solidity
	    function withdraw(uint256 amount) override onlyOwner public {
	```

- Found in contracts/WEDXIndexPortfolio.sol [Line: 33](contracts/WEDXIndexPortfolio.sol#L33)

	```solidity
	    function withdrawBruteForced() override onlyOwner public {
	```

- Found in contracts/WEDXIndexPortfolio.sol [Line: 42](contracts/WEDXIndexPortfolio.sol#L42)

	```solidity
	    function setPortfolio() public onlyAllowed returns (uint256) {
	```

- Found in contracts/WEDXIndexPortfolio.sol [Line: 85](contracts/WEDXIndexPortfolio.sol#L85)

	```solidity
	    function getActualDistribution() public override view returns (uint256[] memory) {
	```

- Found in contracts/WEDXIndexPortfolio.sol [Line: 103](contracts/WEDXIndexPortfolio.sol#L103)

	```solidity
	    function getAssetsExtended() public override view returns (uint256[] memory) {
	```

- Found in contracts/WEDXIndexPortfolio.sol [Line: 116](contracts/WEDXIndexPortfolio.sol#L116)

	```solidity
	    function getAmountLendToken(address tokenAddress) public view returns (uint256) {
	```

- Found in contracts/WEDXIndexPortfolio.sol [Line: 120](contracts/WEDXIndexPortfolio.sol#L120)

	```solidity
	    function getMinPercAllowance() public override view returns (uint256) {
	```

- Found in contracts/WEDXManager.sol [Line: 203](contracts/WEDXManager.sol#L203)

	```solidity
	    function setFinalWeights() public {
	```

- Found in contracts/WEDXManager.sol [Line: 240](contracts/WEDXManager.sol#L240)

	```solidity
	    function setMinPercAllowance(uint256 newPerc) public onlyOwner {
	```

- Found in contracts/WEDXManager.sol [Line: 246](contracts/WEDXManager.sol#L246)

	```solidity
	    function setSimilirityPerc(uint256 newPerc) public onlyOwner {
	```

- Found in contracts/WEDXManager.sol [Line: 303](contracts/WEDXManager.sol#L303)

	```solidity
	    function getFinalPortfolio() view public returns (address[] memory, uint256[] memory) {
	```

- Found in contracts/WEDXManager.sol [Line: 308](contracts/WEDXManager.sol#L308)

	```solidity
	    function getTraderData(address user) public view returns (trader memory) {
	```

- Found in contracts/WEDXManager.sol [Line: 313](contracts/WEDXManager.sol#L313)

	```solidity
	    function getRankingList() public view returns (address[] memory) {
	```

- Found in contracts/WEDXManager.sol [Line: 318](contracts/WEDXManager.sol#L318)

	```solidity
	    function getTraderScore(address user) public view returns (uint256) {
	```

- Found in contracts/WEDXManager.sol [Line: 323](contracts/WEDXManager.sol#L323)

	```solidity
	    function getNPoints() public view returns (uint256) {
	```

- Found in contracts/WEDXManager.sol [Line: 328](contracts/WEDXManager.sol#L328)

	```solidity
	    function getCurrentTimestamp() public view returns (uint256) {
	```

- Found in contracts/WEDXManager.sol [Line: 333](contracts/WEDXManager.sol#L333)

	```solidity
	    function changeNPoints(uint newNPoint) public onlyOwner {
	```

- Found in contracts/WEDXManager.sol [Line: 339](contracts/WEDXManager.sol#L339)

	```solidity
	    function changeTimeWindow(uint256 newTimeWindow) public onlyOwner {
	```

- Found in contracts/WEDXManager.sol [Line: 345](contracts/WEDXManager.sol#L345)

	```solidity
	    function changeRankingListMaxSize(uint newSize) public onlyOwner {
	```

- Found in contracts/WEDXManager.sol [Line: 368](contracts/WEDXManager.sol#L368)

	```solidity
	    function changeFees(uint256 newRewardsFee, uint256 newTransactionsFee, uint256 newDepositWithdrawFee, uint256 newRebalanceActorFee) public onlyOwner {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 14](contracts/WEDXProPortfolio.sol#L14)

	```solidity
	    function deposit() public override onlyOwner payable returns (uint256) {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 20](contracts/WEDXProPortfolio.sol#L20)

	```solidity
	    function withdraw(uint256 amount) override onlyOwner public {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 28](contracts/WEDXProPortfolio.sol#L28)

	```solidity
	    function withdrawBruteForced() override onlyOwner public {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 37](contracts/WEDXProPortfolio.sol#L37)

	```solidity
	    function setPortfolio(address[] memory newAssets, uint256[] memory newDistribution) public onlyAllowed returns (uint256) {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 48](contracts/WEDXProPortfolio.sol#L48)

	```solidity
	    function supplyLendToken(address tokenAddress) public onlyAllowed {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 71](contracts/WEDXProPortfolio.sol#L71)

	```solidity
	    function rankMe() public onlyAllowed {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 75](contracts/WEDXProPortfolio.sol#L75)

	```solidity
	    function setMinPercAllowance(uint256 newPerc) public onlyAllowed {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 97](contracts/WEDXProPortfolio.sol#L97)

	```solidity
	    function getAssetsExtended() public override view returns (uint256[] memory) {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 110](contracts/WEDXProPortfolio.sol#L110)

	```solidity
	    function getAmountLendToken(address tokenAddress) public view returns (uint256) {
	```

- Found in contracts/WEDXTreasury.sol [Line: 14](contracts/WEDXTreasury.sol#L14)

	```solidity
	    function depositGeneralFee() public payable {
	```

- Found in contracts/WEDXTreasury.sol [Line: 18](contracts/WEDXTreasury.sol#L18)

	```solidity
	    function depositRewardFee() public payable {
	```

- Found in contracts/WEDXTreasury.sol [Line: 46](contracts/WEDXTreasury.sol#L46)

	```solidity
	    function redeem(uint256 amount) public returns (uint256) {
	```

- Found in contracts/WEDXlender.sol [Line: 39](contracts/WEDXlender.sol#L39)

	```solidity
	    function lendToken(address tokenAddress, uint256 amount) public { // @audit-issue No Restricted Access Control to the Pro or Transactions contracts
	```

- Found in contracts/WEDXlender.sol [Line: 51](contracts/WEDXlender.sol#L51)

	```solidity
	    function collectToken(address tokenAddress, uint256 amount) public {
	```

- Found in contracts/WEDXlender.sol [Line: 59](contracts/WEDXlender.sol#L59)

	```solidity
	    function getTokenBalance(address tokenAddress, address account) public view returns (uint256) {
	```

- Found in contracts/WEDXlender.sol [Line: 68](contracts/WEDXlender.sol#L68)

	```solidity
	    function isLoanPossible(address tokenAddress) public view returns (bool) {
	```

- Found in contracts/WEDXlenderSingle.sol [Line: 33](contracts/WEDXlenderSingle.sol#L33)

	```solidity
	    function lendToken(address tokenAddress, uint256 amount) public onlySource {
	```

- Found in contracts/WEDXlenderSingle.sol [Line: 40](contracts/WEDXlenderSingle.sol#L40)

	```solidity
	    function collectToken(address tokenAddress, uint256 amount) public onlySource {
	```

- Found in contracts/WEDXswap.sol [Line: 39](contracts/WEDXswap.sol#L39)

	```solidity
	    function swapNative( address tokenOut, uint256 maxSlippage ) public payable returns (uint256) {
	```

- Found in contracts/WEDXswap.sol [Line: 72](contracts/WEDXswap.sol#L72)

	```solidity
	    function swapERC20( address tokenIn, address tokenOut, uint256 amountIn, uint256 maxSlippage ) public returns (uint256) {
	```

- Found in contracts/WEDXswap.sol [Line: 155](contracts/WEDXswap.sol#L155)

	```solidity
	    function getAssetPoolLiquidity( address tokenAddress ) public view returns (uint128) {
	```



## L-7: Define and use `constant` variables instead of using literals

If the same constant literal value is used multiple times, create a constant state variable and reference it throughout the contract.

- Found in contracts/WEDXswap.sol [Line: 121](contracts/WEDXswap.sol#L121)

	```solidity
	                uint256 value1 = Math.mulDiv(amountIn, 2**96, s96);
	```

- Found in contracts/WEDXswap.sol [Line: 122](contracts/WEDXswap.sol#L122)

	```solidity
	                value = Math.mulDiv(value1, 2**96, s96);
	```

- Found in contracts/WEDXswap.sol [Line: 124](contracts/WEDXswap.sol#L124)

	```solidity
	                uint256 value1 = Math.mulDiv(amountIn, s96, 2**96);
	```

- Found in contracts/WEDXswap.sol [Line: 125](contracts/WEDXswap.sol#L125)

	```solidity
	                value = Math.mulDiv(value1, s96, 2**96);
	```



## L-8: Modifiers invoked only once can be shoe-horned into the function



- Found in contracts/WEDXIndexPortfolio.sol [Line: 124](contracts/WEDXIndexPortfolio.sol#L124)

	```solidity
	    modifier onlyAllowed {
	```



## L-9: Empty Block

Consider removing empty blocks.

- Found in test/mocks/MockWEDXManager.sol [Line: 47](test/mocks/MockWEDXManager.sol#L47)

	```solidity
	    function computeRanking(address) external override {
	```

- Found in test/mocks/MockWEDXManager.sol [Line: 73](test/mocks/MockWEDXManager.sol#L73)

	```solidity
	    function updateTraderData(address, uint256[] memory, address[] memory) external override {
	```



## L-10: Large literal values multiples of 10000 can be replaced with scientific notation

Use `e` notation, for example: `1e18`, instead of its full numeric value.

- Found in contracts/WEDXBasePortfolio.sol [Line: 22](contracts/WEDXBasePortfolio.sol#L22)

	```solidity
	    uint256 internal minPercAllowance = 20000;
	```

- Found in contracts/WEDXManager.sol [Line: 36](contracts/WEDXManager.sol#L36)

	```solidity
	    uint256 private constant initCapital = 1000000 gwei;
	```

- Found in contracts/WEDXManager.sol [Line: 50](contracts/WEDXManager.sol#L50)

	```solidity
	    uint256 public minPercIndexAllowance = 20000;
	```

- Found in contracts/WEDXManager.sol [Line: 51](contracts/WEDXManager.sol#L51)

	```solidity
	    uint256 public similarityPerc = 100000;
	```

- Found in contracts/WEDXManager.sol [Line: 54](contracts/WEDXManager.sol#L54)

	```solidity
	    uint256 public rewardsFee = 10000;
	```

- Found in contracts/WEDXManager.sol [Line: 57](contracts/WEDXManager.sol#L57)

	```solidity
	    uint256 public rebalanceActorFee = 100000;
	```

- Found in contracts/WEDXswap.sol [Line: 29](contracts/WEDXswap.sol#L29)

	```solidity
	    uint24[] private uniAllowedFees = [100, 500, 3000, 10000];
	```



## L-11: Contract still has TODOs

Contract contains comments with TODOS

- Found in contracts/WEDXManager.sol [Line: 16](contracts/WEDXManager.sol#L16)

	```solidity
	contract WEDXManager is WEDXConstants {
	```

- Found in contracts/WEDXRanker.sol [Line: 13](contracts/WEDXRanker.sol#L13)

	```solidity
	contract WEDXRanker {
	```



## L-12: Inconsistency in declaring uint256/uint (or) int256/int variables within a contract

Consider keeping the naming convention consistent in a given contract

- Found in contracts/WEDXManager.sol [Line: 16](contracts/WEDXManager.sol#L16)

	```solidity
	contract WEDXManager is WEDXConstants {
	```

- Found in contracts/WEDXTreasury.sol [Line: 10](contracts/WEDXTreasury.sol#L10)

	```solidity
	contract WEDXTreasury is ERC20, WEDXConstants {
	```



## L-13: Loop contains `require`/`revert` statements

Avoid `require` / `revert` statements in a loop because a single bad item can cause the whole transaction to fail. It's better to forgive on fail and return failed elements post processing of the loop

- Found in contracts/WEDXBasePortfolio.sol [Line: 119](contracts/WEDXBasePortfolio.sol#L119)

	```solidity
	        for (uint256 i = 0; i < tokenAddresses.length; i++) {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 21](contracts/WEDXProPortfolio.sol#L21)

	```solidity
	        for (uint256 i = 0; i < tokenAddresses.length; i++) {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 38](contracts/WEDXProPortfolio.sol#L38)

	```solidity
	        for (uint256 i = 0; i < tokenAddresses.length; i++) {
	```



## L-14: Contract elements should be laid out in the following order: `Type declarations` --> `State variables` --> `Events` --> `Errors` --> `Modifiers` --> `Functions`

Contract elements should be laid out according to the order specified in https://docs.soliditylang.org/en/latest/style-guide.html#order-of-layout

- Found in contracts/WEDXIndexPortfolio.sol [Line: 124](contracts/WEDXIndexPortfolio.sol#L124)

	```solidity
	    modifier onlyAllowed {
	```

- Found in contracts/WEDXManager.sol [Line: 376](contracts/WEDXManager.sol#L376)

	```solidity
	    modifier onlyOwner {
	```

- Found in contracts/WEDXProPortfolio.sol [Line: 114](contracts/WEDXProPortfolio.sol#L114)

	```solidity
	    modifier onlyAllowed {
	```

- Found in contracts/WEDXlenderSingle.sol [Line: 58](contracts/WEDXlenderSingle.sol#L58)

	```solidity
	    modifier onlySource {
	```



